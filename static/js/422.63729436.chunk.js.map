{"version":3,"file":"static/js/422.63729436.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/form/form.module.css?7370","redux/contacts/selectors.js","components/form/form.jsx","webpack://react-homework-template/./src/components/filter/filter.module.css?56b3","components/filter/filter.jsx","webpack://react-homework-template/./src/components/list/list.module.css?9f49","webpack://react-homework-template/./src/components/listItem/listItem.module.css?cbd9","components/listItem/listItem.jsx","components/list/list.jsx","webpack://react-homework-template/./src/pages/contactsPage.module.css?bd3e","pages/contactsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"form_form__hlmC8\",\"formLabel\":\"form_formLabel__0U0hH\",\"formBtn\":\"form_formBtn__g-6MJ\",\"formInput\":\"form_formInput__ASXDA\",\"inputTitle\":\"form_inputTitle__ZembL\"};","export const selectLoading = state => state.contacts.loading;\n\nexport const selectFilter = state => state.contacts.filter;\n\nexport const selectAllContacts = state => state.contacts.items;\n","import { useState } from 'react';\nimport React from 'react';\nimport css from './form.module.css';\n// import {\n//   useAddContactMutation,\n//   useGetContactsQuery,\n// } from 'redux/contacts/slice';\nimport { addContact } from 'redux/contacts/operations';\n// import { nanoid } from 'nanoid';\nimport { setFilter } from 'redux/filterSlice';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectAllContacts } from 'redux/contacts/selectors';\n\nexport const Form = () => {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  // const filter = useSelector(state => state.filter.filter);\n  const dispatch = useDispatch();\n  // state = {\n  //   name: '',\n  //   number: '',\n  // };\n\n  // const [addContact] = useAddContactMutation();\n  // const { data: contacts } = useGetContactsQuery();\n  const contacts = useSelector(selectAllContacts);\n\n  let addContactCheck = null;\n\n  const handleSubmit = async (e, name, number) => {\n    try {\n      e.preventDefault();\n      const contactChecker = normilizeContact(e, name, number);\n      if (addContactCheck) {\n        // console.log(contactChecker);\n        await dispatch(addContact(contactChecker));\n      }\n      dispatch(setFilter(''));\n      e.target.reset();\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const normilizeContact = () => {\n    if (\n      contacts.filter(\n        contact => contact.name.toLowerCase() === name.toLowerCase()\n      ).length !== 0\n    ) {\n      addContactCheck = false;\n      alert(`${name} is already in your contacts`);\n      return;\n    }\n    addContactCheck = true;\n    const newContact = { name: name, number: number };\n    return newContact;\n  };\n\n  const handleNameChange = e => {\n    setName(e.target.value);\n  };\n\n  const handlePhoneChange = e => {\n    setNumber(e.target.value);\n  };\n\n  return (\n    <>\n      <form\n        className={css.form}\n        onSubmit={e => handleSubmit(e, name, number)}\n        autoComplete=\"off\"\n      >\n        <label className={css.formLabel}>\n          <span className={css.inputTitle}>Name</span>\n          <input\n            className={css.formInput}\n            type=\"text\"\n            name=\"name\"\n            pattern=\"^^[a-zA-Zа-яА-Я]+(([' \\-][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n            onChange={handleNameChange}\n            required\n          />\n        </label>\n        <label className={css.formLabel}>\n          <span className={css.inputTitle}>Phone number</span>\n          <input\n            className={css.formInput}\n            type=\"tel\"\n            name=\"number\"\n            pattern=\"\\+?\\d{1,4}?[ .\\-\\s]?\\(?\\d{1,3}?\\)?[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,4}[ .\\-\\s]?\\d{1,9}\"\n            title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n            onChange={handlePhoneChange}\n            required\n          />\n        </label>\n        <button className={css.formBtn} type=\"submit\">\n          Add contact\n        </button>\n      </form>\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"filter\":\"filter_filter__4JT9Y\",\"filterLabel\":\"filter_filterLabel__3HlzA\",\"filterInput\":\"filter_filterInput__Hvnfk\"};","import { useSelector } from 'react-redux';\nimport css from './filter.module.css';\n\nexport const Filter = ({ handleFilter }) => {\n  const filter = useSelector(state => state.filter.filter);\n\n  // useEffect(() => {\n  //   setFilteredList(prevState => {\n  //     return contacts.filter(contact =>\n  //       contact.name.toLowerCase().includes(filter)\n  //     );\n  //   });\n  // }, [filter, contacts]);\n\n  return (\n    <div className={css.filter}>\n      {/* <label className={css.filterLabel}>\n        Find contact by name */}\n\n      <input\n        className={css.filterInput}\n        type=\"text\"\n        name=\"filter\"\n        placeholder=\"Find contact by name\"\n        value={filter}\n        pattern=\"^^[a-zA-Zа-яА-Я]+(([' \\-][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n        title=\"find contact\"\n        autoComplete=\"off\"\n        onChange={handleFilter}\n      />\n\n      {/* </label> */}\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"list_list__3wuB3\",\"listItem\":\"list_listItem__WZL9t\",\"contactText\":\"list_contactText__+zbWw\",\"itemBtn\":\"list_itemBtn__7mg9X\"};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"listItem_list__3exig\",\"listItem\":\"listItem_listItem__VgCIh\",\"contactText\":\"listItem_contactText__C8IAQ\",\"itemBtn\":\"listItem_itemBtn__kpt-X\"};","import css from './listItem.module.css';\n// import { useDispatch } from 'react-redux';\n\nexport const ListItem = ({ contact, handleDelete }) => {\n  // const dispatch = useDispatch();\n\n  //   const handleDelete = async id => {\n  //     try {\n  //       await dispatch(deleteContact(id));\n  //     } catch (error) {\n  //       console.log(error);\n  //     }\n  // };\n  // console.log(contact);\n  return (\n    <>\n      <li className={css.listItem}>\n        <span className={css.contactText}>\n          {contact.name}: {contact.number}\n        </span>\n        <button\n          className={css.itemBtn}\n          type=\"button\"\n          onClick={() => handleDelete(contact.id)}\n        >\n          delete\n        </button>\n      </li>\n    </>\n  );\n};\n","import css from './list.module.css';\nimport { ListItem } from 'components/listItem/listItem';\nimport { useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport React, { useState } from 'react';\nimport { selectAllContacts, selectLoading } from 'redux/contacts/selectors';\nimport { deleteContact } from 'redux/contacts/operations';\nimport { useDispatch } from 'react-redux';\n\nexport const List = () => {\n  // console.log(contacts);\n  const filter = useSelector(state => state.filter.filter);\n  const dispatch = useDispatch();\n  // const { data: contacts, isLoading } = useGetContactsQuery();\n  // const [deleteContact] = useDeleteContactMutation();\n  const [filteredList, setFilteredList] = useState([]);\n  // const { data: filteredContacts, isLoading: isLoadingForName } =\n  // useGetContactsByNameQuery(filter);\n  const isLoading = useSelector(selectLoading);\n  const contacts = useSelector(selectAllContacts);\n\n  useEffect(() => {\n    if (!isLoading) {\n      setFilteredList(prevState => {\n        return contacts.filter(contact =>\n          contact.name.toLowerCase().includes(filter)\n        );\n      });\n    }\n    // dispatch(fetchContacts);\n  }, [filter, contacts, isLoading]);\n\n  const handleDelete = async id => {\n    try {\n      await dispatch(deleteContact(id));\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // if (filter !== '') {\n  //   return (\n  //     <>\n  //       {!isLoadingForName && (\n  //         <ul className={css.list}>\n  //           {filteredContacts.map(contact => {\n  //             return (\n  //               <ListItem\n  //                 contact={contact}\n  //                 handleDelete={handleDelete}\n  //                 key={contact.id}\n  //               ></ListItem>\n  //             );\n  //           })}\n  //         </ul>\n  //       )}\n  //     </>\n  //   );\n  // }\n\n  // console.log(contacts);\n  // console.log(error);\n  // console.log(isLoading);\n\n  return (\n    <>\n      {!isLoading && (\n        <ul className={css.list}>\n          {(contacts && filteredList).map(contact => {\n            return (\n              <ListItem\n                contact={contact}\n                handleDelete={handleDelete}\n                key={contact.id}\n              ></ListItem>\n            );\n          })}\n        </ul>\n      )}\n    </>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"contactsPage_container__pYQTr\",\"title\":\"contactsPage_title__sZbbk\",\"parts\":\"contactsPage_parts__UyT7C\"};","import { Form } from 'components/form/form';\nimport { Filter } from 'components/filter/filter';\nimport { List } from 'components/list/list';\nimport { useDispatch } from 'react-redux';\nimport { setFilter } from 'redux/filterSlice';\nimport css from './contactsPage.module.css';\nimport { useEffect } from 'react';\nimport { fetchContacts } from 'redux/contacts/operations';\n\nconst ContactsPage = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(fetchContacts());\n  }, [dispatch]);\n\n  const handleFilter = e => {\n    const correctFilter = e.target.value.toLowerCase();\n    // console.log(correctFilter);\n    dispatch(setFilter(correctFilter));\n    // console.log(filter);\n    if (correctFilter === '') {\n      // setFilteredList([]);\n      return;\n    }\n    // renderFilter();\n  };\n\n  return (\n    <div\n      className={css.container}\n      // style={{\n      //   paddingLeft: '20px',\n      // }}\n    >\n      <div className={css.parts}>\n        <h1 className={css.title}>Phonebook</h1>\n        <Form></Form>\n      </div>\n      <div className={css.parts}>\n        <h2 className={css.title}>Contacts</h2>\n        <Filter handleFilter={handleFilter}></Filter>\n        <List></List>\n      </div>\n    </div>\n  );\n};\n\nexport default ContactsPage;\n"],"names":["selectLoading","state","contacts","loading","selectAllContacts","items","Form","useState","name","setName","number","setNumber","dispatch","useDispatch","useSelector","addContactCheck","handleSubmit","e","preventDefault","contactChecker","normilizeContact","addContact","setFilter","target","reset","console","log","filter","contact","toLowerCase","length","alert","className","css","onSubmit","autoComplete","type","pattern","title","onChange","value","required","Filter","handleFilter","placeholder","ListItem","handleDelete","onClick","id","List","filteredList","setFilteredList","isLoading","useEffect","prevState","includes","deleteContact","map","fetchContacts","correctFilter"],"sourceRoot":""}